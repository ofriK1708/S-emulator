<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.Group?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.SVGPath?>
<?import java.lang.String?>
<AnchorPane xmlns:fx="http://javafx.com/fxml/1" styleClass="panel-container, history-panel"
            xmlns="http://javafx.com/javafx/24.0.1" fx:controller="ui.dashboard.history.table.HistoryPanelController">

    <VBox spacing="10" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0"
          AnchorPane.topAnchor="0">

        <padding>
            <Insets bottom="10" left="10" right="10" top="10"/>
        </padding>

        <!-- Panel Title -->
        <Label styleClass="panel-title" text="Users Execution History"/>

        <!-- History Table -->
        <TableView fx:id="historyTableView" styleClass="history-table" VBox.vgrow="ALWAYS">

            <columns>
                <TableColumn fx:id="runNumberColumn" prefWidth="60" text="#"/>
                <TableColumn fx:id="programTypeColumn" prefWidth="120" text="Program Type"/>
                <TableColumn fx:id="programDisplayNameColumn" prefWidth="150" text="Name"/>
                <TableColumn fx:id="architectureTypeColumn" prefWidth="130" text="Architecture Type"/>
                <TableColumn fx:id="executionLevelColumn" prefWidth="110" text="Expand Level"/>
                <TableColumn fx:id="outputColumn" prefWidth="100" text="output"/>
                <TableColumn fx:id="cycleCountColumn" prefWidth="90" text="Cycles"/>
            </columns>

            <placeholder>
                <Label styleClass="placeholder-text"
                       text="No execution history available.\nSelect a user to view their statistics."/>
            </placeholder>
            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
            </columnResizePolicy>

        </TableView>
        <HBox alignment="CENTER" spacing="12.0" styleClass="buttons-HBox">
            <padding>
                <Insets bottom="4.0" left="8.0" right="8.0" top="8.0"/>
            </padding>
            <children>
                <Label styleClass="status-label" text="Select an execution to view details or rerun"
                       HBox.hgrow="ALWAYS"/>
                <HBox alignment="CENTER" fillHeight="false" spacing="10.0">
                    <children>
                        <Button fx:id="showInfoButton" minHeight="0.0" onAction="#handleShow" prefHeight="40.0"
                                prefWidth="50.0">
                            <tooltip>
                                <Tooltip text="View detailed execution information"/>
                            </tooltip>
                            <graphic>
                                <Group>
                                    <children>
                                        <SVGPath
                                                content="M25.39 25.45a1 1 0 0 0-1.38.29c-1.41 2.16-4 4.81-6.31 5.7s-4.12.57-4.84 0c-.31-.27-1.12-1-.43-3.49c.46-1.66 3.32-9.48 4-11.38l-2.18.28c-.69 1.86-3.29 8.84-3.76 10.58c-.68 2.49-.34 4.3 1.09 5.56A5.6 5.6 0 0 0 15 34a9.5 9.5 0 0 0 3.45-.7c2.79-1.09 5.72-4.12 7.26-6.47a1 1 0 0 0-.32-1.38"
                                                fill="WHITE" stroke="BLACK"/>
                                        <SVGPath
                                                content="M19.3 11a4.5 4.5 0 1 0-4.5-4.5a4.5 4.5 0 0 0 4.5 4.5m0-7a2.5 2.5 0 1 1-2.5 2.5A2.5 2.5 0 0 1 19.3 4"
                                                fill="WHITE" stroke="BLACK"/>
                                        <SVGPath
                                                content="M11.81 15c.06 0 6.27-.82 7.73-1c.65-.1 1.14 0 1.3.15s.21.8-.07 1.68c-.61 1.86-3.69 11-4.59 13.71a8 8 0 0 0 1.29-.38a7.3 7.3 0 0 0 1.15-.6c1.23-3.56 3.53-10.46 4.05-12.04s.39-2.78-.3-3.6a3.16 3.16 0 0 0-3.08-.83c-1.43.15-7.47.94-7.73 1a1 1 0 0 0 .26 2Z"
                                                fill="WHITE" stroke="BLACK"/>
                                    </children>
                                </Group>
                            </graphic>
                            <styleClass>
                                <String fx:value="pill-button"/>
                                <String fx:value="pill-blue"/>
                            </styleClass>
                        </Button>
                        <Button fx:id="rerunButton" minHeight="0.0" onAction="#handleRerun" prefHeight="40.0"
                                prefWidth="50.0">
                            <graphic>
                                <SVGPath
                                        content="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"
                                        fill="WHITE" scaleX="1.2" scaleY="1.2" stroke="BLACK"/>
                            </graphic>
                            <tooltip>
                                <Tooltip text="Re-run this execution with Set Run dialog"/>
                            </tooltip>
                            <styleClass>
                                <String fx:value="pill-button"/>
                                <String fx:value="pill-blue"/>
                            </styleClass>
                        </Button>
                    </children>
                </HBox>
            </children>
        </HBox>

    </VBox>

</AnchorPane>
