<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.SVGPath?>
<VBox xmlns:fx="http://javafx.com/fxml/1" xmlns="http://javafx.com/javafx/24.0.1"
      fx:controller="ui.jfx.statistics.HistoryStatsController" spacing="8.0">
    <children>
        <!-- Main statistics table -->
        <TableView fx:id="statisticsTable" stylesheets="@Statistics.css" styleClass="table-view"
                   VBox.vgrow="ALWAYS">
            <columns>
                <TableColumn fx:id="executionNumberColumn" prefWidth="63.0" text="#" styleClass="table-column"/>
                <TableColumn fx:id="expandLevelColumn" prefWidth="114.0" text="Expand Level" styleClass="table-column"/>
                <TableColumn fx:id="resultColumn" prefWidth="106.0" text="Result (Y)" styleClass="table-column"/>
                <TableColumn fx:id="cyclesUsedColumn" prefWidth="117.0" text="Cycles Used" styleClass="table-column"/>
                <TableColumn fx:id="argumentColumn" prefWidth="150" text="Arguments" styleClass="table-column"/>
            </columns>
            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
            </columnResizePolicy>
        </TableView>

        <!-- Action buttons row with Show and Rerun buttons -->
        <HBox spacing="12.0" alignment="CENTER_LEFT">
            <padding>
                <Insets top="8.0" bottom="4.0" left="8.0" right="8.0"/>
            </padding>
            <children>
                <!-- Show details button -->
                <Button fx:id="showButton" text="Show Details" onAction="#handleShow"
                        styleClass="pill-button" prefWidth="130.0">
                    <graphic>
                        <SVGPath content="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"
                                 fill="#2196F3" scaleX="0.8" scaleY="0.8"/>
                    </graphic>
                    <tooltip>
                        <Tooltip text="View detailed execution information"/>
                    </tooltip>
                </Button>

                <!-- Rerun button -->
                <Button fx:id="rerunButton" text="Rerun" onAction="#handleRerun"
                        styleClass="pill-button" prefWidth="110.0">
                    <graphic>
                        <SVGPath content="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"
                                 fill="#4CAF50" scaleX="0.7" scaleY="0.7"/>
                    </graphic>
                    <tooltip>
                        <Tooltip text="Re-run this execution with Set Run dialog"/>
                    </tooltip>
                </Button>

                <!-- Status label for user feedback -->
                <Label text="Select an execution to view details or rerun"
                       styleClass="status-label" HBox.hgrow="ALWAYS"/>
            </children>
        </HBox>
    </children>
</VBox>